(this.webpackJsonpbibliotakecare=this.webpackJsonpbibliotakecare||[]).push([[0],{14:function(e,t,c){},15:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(1),n=c.n(s),r=c(7),i=c.n(r),o=(c(14),c(2)),l=c(8),u=c.n(l),j=function(e){var t=e.toggleVal,c=e.setToggleVal;e.key;return Object(a.jsxs)("label",{class:"switch",children:[Object(a.jsx)("input",{type:"checkbox",onChange:function(){c(!t)}}),Object(a.jsx)("span",{class:"slider"})]})},b=function(e){var t=e.books,c=e.categories,s=e.favorites,r=e.read,i=e.setBooksDisplay,l=n.a.useState(!1),u=Object(o.a)(l,2),b=u[0],d=u[1],f=n.a.useState(!1),h=Object(o.a)(f,2),O=h[0],g=h[1];return n.a.useEffect((function(){!function(){if(b){var e=t.reduce((function(e,t){return s.includes(t.isbn)&&e.push(t),e}),[]);i(e)}else i(t)}()}),[b]),n.a.useEffect((function(){!function(){if(O){var e=t.reduce((function(e,t){return r.includes(t.isbn)&&e.push(t),e}),[]);i(e)}else i(t)}()}),[O]),Object(a.jsxs)("nav",{className:"searchBar",children:[Object(a.jsx)("p",{children:"Recherche par titre"}),Object(a.jsx)("input",{type:"text",onChange:function(e){var c=e.target.value.toLowerCase();if(""===c)i(t);else{var a=RegExp("".concat(c,".")),s=t.reduce((function(e,t){return-1!==t.title.toLowerCase().search(a)&&e.push(t),e}),[]);i(s)}}}),Object(a.jsx)("p",{children:"Selection par cat\xe9gorie"}),Object(a.jsx)("select",{name:"categories",onChange:function(e){var c=e.target.value;if("All Categories"===c)i(t);else{var a=[];t.forEach((function(e){e.categories.includes(c)&&a.push(e)})),i(a)}},children:c.map((function(e){return Object(a.jsx)("option",{value:e,children:e})}))}),Object(a.jsx)("p",{children:"S\xe9lection par lu"}),Object(a.jsx)(j,{toggleVal:O,setToggleVal:g},"read"),Object(a.jsx)("p",{children:"S\xe9lection par favoris"}),Object(a.jsx)(j,{toggleVal:b,setToggleVal:d},"fav")]})},d=c(5),f=function(e){var t=e.favorites,c=e.id,s=e.setFavorites;return Object(a.jsx)("div",{className:"likeBtn",onClick:function(e){t.includes(c)?(t.splice(t.indexOf(c),1),e.target.className="likeBtn",s(t)):(e.target.className="likeBtn red",s([].concat(Object(d.a)(t),[c])))}})},h=function(e){var t=e.read,c=e.id,s=e.setRead;return Object(a.jsx)("div",{className:"readBtn",onClick:function(e){t.includes(c)?(t.splice(t.indexOf(c),1),e.target.className="readBtn",s(t)):(e.target.className="readBtn green",s([].concat(Object(d.a)(t),[c])))}})},O=function(e){var t=e.book,c=e.favorites,s=e.setFavorites,n=e.read,r=e.setRead,i=t.title,o=t.thumbnailUrl,l=t.isbn;return Object(a.jsxs)("li",{className:"book__card",children:[Object(a.jsxs)("div",{className:"images",children:[Object(a.jsx)("img",{src:o,alt:i.toLowerCase()}),Object(a.jsx)(f,{favorites:c,id:l,setFavorites:s}),Object(a.jsx)(h,{read:n,id:l,setRead:r})]}),Object(a.jsx)("h2",{children:i})]})},g=function(){var e=n.a.useState(null),t=Object(o.a)(e,2),c=t[0],s=t[1],r=n.a.useState(null),i=Object(o.a)(r,2),l=i[0],j=i[1],d=n.a.useState(null),f=Object(o.a)(d,2),h=f[0],g=f[1],p=n.a.useState([]),x=Object(o.a)(p,2),v=x[0],k=x[1],m=n.a.useState([]),B=Object(o.a)(m,2),C=B[0],S=B[1];return n.a.useEffect((function(){fetch("https://gist.githubusercontent.com/MathisDYKDan/76bc73ec77481ccb82677cc7c0d8b524/raw/a23c99027b9bfc1bfdb22e22ddcb4301a5f870ee/books.json").then((function(e){return e.json()})).then((function(e){s(e.books[0])}))}),[]),n.a.useEffect((function(){c&&(!function(){var e=c.reduce((function(e,t){return t.categories.forEach((function(t){e.includes(t)||e.push(t)})),e}),[]);e.sort(),e.unshift("All Categories"),j(e)}(),h||g(c))}),[c]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("h1",{children:["Bienvenue sur ",Object(a.jsx)("span",{children:"BiblioTakeCare"})]}),l&&Object(a.jsx)(b,{books:c,categories:l,read:v,favorites:C,setBooksDisplay:g})||Object(a.jsxs)("div",{className:"load",children:[Object(a.jsx)(u.a,{type:"spokes",color:"orange",height:"60px",width:"60px"}),Object(a.jsx)("p",{children:"Chargement..."})]}),h&&Object(a.jsx)("ul",{children:h.map((function(e,t){return Object(a.jsx)(O,{book:e,favorites:C,setFavorites:S,read:v,setRead:k},t.toString())}))})]})};i.a.render(Object(a.jsx)(g,{}),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.df7edab8.chunk.js.map